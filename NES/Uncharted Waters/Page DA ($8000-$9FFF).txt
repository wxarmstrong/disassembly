Page DA
ROM: 034010 - 03600F
----------------------------------------------------
     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F
8000 4C 03 E0 

Function $8000

8000 JMP $E003
----------------------------------------------------
     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F
8000          20 BF E4 F1 FF A4 CE 6F 2B 60 E9 9E D5
8010 02 29 60 E9 89 DA 02 28 09 18 C0 D8 2F 80 AC 89
8020 B8 61 E9 1B B8 02 8E 14 89 E9 F4 A3 02 40 CF 61
8030 6A E9 69 B8 04 61 E9 1B B8 02 0B 5A C3 D8 49 80
8040 8E 30 89 E9 F4 A3 02 40 CF 08 19 BC 27 3B 37 E9
8050 6C DD 04 2A 3A 8E 63 89 E9 99 C7 04 3A 61 8E 8E
8060 89 E9 12 CD 06 26 06 8B FF C0 D8 6F 80 40 CF 06
8070 CD A4 CE 6F BC A8 CE 6F AC 3F B8 8E 97 89 E9 F4
8080 A3 02 AC 89 B8 AC 3F B8 8E BA 89 E9 F4 A3 02 60
8090 8D 12 8D 1C 62 62 E9 05 A4 0A 67 69 36 8E 71 89
80A0 8E C0 00 61 E9 3A DE 0C 85 F1 60 8D 12 8D 1C 62
80B0 62 E9 9B A4 0A 8A F0 00 A9 63 70 81 F1 51 C0 D8
80C0 C4 80 40 CF 06 CD A4 CE 6F BB A8 CE 6F 81 F1 CF

Function $8003 (F1 FF)

8008 A4 CE 6F    / $6FCE
800B 2B

800C 60
800D E9 9E D5 02 / Call $D59E
8011 29

8012 60
8013 E9 89 DA 02 / Call $DA89 -> Tallies ? for every ship with particular flag
8017 28

8018 09
8019 18
801A C0
801B D8 2F 80

if
	801E AC 89 B8    / Call $B889
	8021 61
	8022 E9 1B B8 02 / Call $B81B
	8026 8E 14 89    / $8914 "We don't need any\nmore crew"
	8029 E9 F4 A3 02 / Call $A3F4 -> Print
	802D 40
	802E CF          / Return 0

802F 61
8030 6A
8031 E9 69 B8 04 / Call $B869

8035 61
8036 E9 1B B8 02 / Call $B81B

803A 0B
803B 5A
803C C3
803D D8 49 80

if
	8040 8E 30 89    / $8930 "His Majesty hopes\nthat you will manage\non your own"
	8043 E9 F4 A3 02 / Call $A3F4
	8047 40
	8048 CF          / Return 0

8049 08
804A 19
804B BC
804C 27

804D 3B
804E 37
804F E9 6C DD 04 / Call $DD6C
8053 2A          / # of men the king can supply

8054 3A
8055 8E 63 89    / $8963 "His Majesty can supply%d men. How many do\n"
8058 E9 99 C7 04 / Call $C799 -> Print

805C 3A
805D 61
805E 8E 8E 89    / $898E "you need"
8061 E9 12 CD 06 / Call $CD12 -> Print & wait for player selectin
8065 26

8066 06
8067 8B FF
8069 C0
806A D8 6F 80

if
	806D 40
	806E CF

806F 06
8070 CD
8071 A4 CE 6F    / $6FCE
8074 BC
8075 A8 CE 6F    / $6FCE

8078 AC 3F B8    / Call $B83F

807B 8E 97 89    / $8997 "Do not betray His\nMajesty's wishes"
807E E9 F4 A3 02 / Call $A3F4 -> Print

8082 AC 89 B8    / Call $B889
8085 AC 3F B8    / Call $B83F

8088 8E BA 89    / $89BA "Captain, assign men\nto the crew"
808B E9 F4 A3 02 / Call $A3F4 -> Print

808F 60
8090 8D 12
8092 8D 1C
8094 62
8095 62
8096 E9 05 A4 0A / Call $A405

809A 67
809B 69
809C 36
809D 8E 71 89
80A0 8E C0 00
80A3 61
80A4 E9 3A DE 0C / Call $DE3A -> C0:8971
80A8 85 F1

80AA 60
80AB 8D 12
80AD 8D 1C
80AF 62
80B0 62
80B1 E9 9B A4 0A / Call $A49B

80B5 8A F0 00
80B8 A9 63 70

80BB 81 F1
80BD 51
80BE C0
80BF D8 C4 80

if
	80C2 40
	80C3 CF

80C4 06
80C5 CD
80C6 A4 CE 6F
80C9 BB
80CA A8 CE 6F

80CD 81
80CE F1

80CF CF
----------------------------------------------------
     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F
80D0 20 BF E4 F8 FF A4 CC 6F 2B A4 6B 66 29 09 8C 78
80E0 E6 C8 D8 F4 80 AC 89 B8 AC 3F B8 8E DA 89 E9 F4
80F0 A3 02 40 CF 61 6A E9 69 B8 04 61 E9 1B B8 02 0B
8100 8B 64 C3 D8 0F 81 8E F7 89 E9 F4 A3 02 40 CF 0B
8110 8C 70 17 C5 D8 1F 81 8A 60 EA 19 BC D6 2D 81 0B
8120 5A B5 B3 8A 60 EA 19 BC B3 E9 6C DD 04 2A 0A 8C
8130 E8 03 B8 8C E8 03 B5 2A 3A 8E 29 8A E9 99 C7 04
8140 AC 03 A0 AC 3F B8 3A 61 8E 57 8A E9 12 CD 06 28
8150 08 8B FF C0 D8 59 81 40 CF 08 CD A4 6B 66 BB A8
8160 6B 66 08 5A B8 D0 CD A4 CC 6F BC A8 CC 6F AC 3F
8170 B8 8E 6B 8A E9 F4 A3 02 40 CF 

Function $80D0 (F8 FF)
80D5 A4 CC 6F    / $6FCC 
80D8 2B

80D9 A4 6B 66    / $666B (Total gold)
80DC 29 

80DD 09
80DE 8C 78 E6
80E1 C8
80E2 D8 F4 80

if
	80E5 AC 89 B8    / $B889
	80E8 AC 3F B8    / $B83F 
	
	80EB 8E DA 89    / $89DA
	80EE E9 F4 A3 02 / Call $A3F4
	
	80F2 40
	80F3 CF

80F4 61
80F5 6A
80F6 E9 69 B8 04 / Call $B869 

80FA 61
80FB E9 1B B8 02 / Call $B81B 

80FF 0B
8100 8B 64
8102 C3
8103 D8 0F 81

if
	8106 8E F7 89    / $89F7 "His Majesty hopes thatyou will manage on\nyour own"
	8109 E9 F4 A3 02
	810D 40
	810E CF

810F 0B
8110 8C 70 15
8113 C5
8114 D8 1F 81

if (...)
{
	8117 8A 60 EA
	811A 19
	811B BC
	811C D6 2D 81
}
else
{
	811F 0B
	8120 5A
	8121 B5
	8122 B3
	8123 8A 60 EA
	8126 19
	8127 BC
	8128 B3
	8129 E9 6C DD 04
}

812D 2A

812E 0A
812F 8C E8 03
8132 B8
8133 8C E8 03
8136 B5
8137 2A

8138 3A
8139 8E 29 8A    / $8A29 "His Majesty will\nprovide up to %d\ngold pieces"
813C E9 99 C7 04 / Call $C799 -> Print 

8140 AC 03 A0    / Call $A003 

8143 AC 3F B8    / Call $B83F 

     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F
8130 E8 03 B8 8C E8 03 B5 2A 3A 8E 29 8A E9 99 C7 04
8140 AC 03 A0 AC 3F B8 3A 61 8E 57 8A E9 12 CD 06 28
8150 08 8B FF C0 D8 59 81 40 CF 08 CD A4 6B 66 BB A8
8160 6B 66 08 5A B8 D0 CD A4 CC 6F BC A8 CC 6F AC 3F
8170 B8 8E 6B 8A E9 F4 A3 02 40 CF 
----------------------------------------------------
     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F
8170                               20 BF E4 F5 FF A5
8180 40 65 A2 FA FF A5 5F 70 51 DA D8 BF 81 A5 67 70
8190 B3 A5 52 70 B4 C0 D8 BF 81 A5 53 70 D7 BF 81 A5
81A0 54 70 54 C0 D8 BF 81 61 6A E9 69 B8 04 61 E9 1B
81B0 B8 02 61 8E 73 8C E9 03 C0 04 AC 03 A0 41 CF 8D
81C0 64 E9 E1 CF 02 B3 A0 FA FF B4 C6 D8 04 82 A5 74
81D0 6F B3 63 E9 E1 CF 02 B4 BB 53 C6 D8 04 82 61 6A
81E0 E9 69 B8 04 61 E9 1B B8 02 8E A2 8C E9 F4 A3 02
81F0 60 60 E9 69 B8 04 61 E9 1B B8 02 8E E4 8C E9 F4
8200 A3 02 41 CF 8D 10 E9 D6 E0 02 6B E9 8C E0 02 61
8210 6C E9 69 B8 04 61 E9 1B B8 02 60 8E 0C 8D E9 03
8220 C0 04 AA 42 65 E9 6B D5 02 60 8E 12 8D E9 03 C0
8230 04 AC 7D A0 60 60 E9 69 B8 04 61 E9 1B B8 02 61
8240 8E 30 8D E9 03 C0 04 AC 03 A0 A0 FA FF 8B 2D B8
8250 A2 FF FF A0 FF FF D8 6C 82 A0 FF FF B3 45 B4 BC
8260 B3 41 B4 BD B3 E9 E1 CF 02 D6 6D 82 41 A2 FE FF
8270 A0 FA FF 8B 64 C6 D8 8C 82 A0 FA FF B3 89 64 B4
8280 BC 5A B8 D0 B3 E9 E1 CF 02 D6 8D 82 40 A2 F9 FF
8290 61 6C E9 69 B8 04 AC 3F B8 61 A0 FF FF D2 8C 90
82A0 8A BB B0 B3 E9 03 C0 04 AC 03 A0 60 60 E9 69 B8
82B0 04 61 E9 1B B8 02 61 A0 FF FF D2 8C 4F 8B BB B0
82C0 B3 E9 03 C0 04 AC 03 A0 A4 6B 66 8C 90 01 C6 D8
82D0 D6 82 42 D6 D7 82 43 A2 FD FF AC 01 B8 63 A0 FD
82E0 FF B3 8E 53 8C 62 60 8D 15 68 E9 56 A1 0E A2 FC
82F0 FF A0 FC FF 8C FF 00 C0 D7 DD 82 A0 FC FF D7 56
8300 83 61 6C E9 69 B8 04 61 E9 1B B8 02 61 8E 54 8D
8310 E9 03 C0 04 AC 03 A0 A5 C1 6B D6 4A 83 60 60 E9
8320 69 B8 04 AC 3F B8 61 8E 75 8D E9 03 C0 04 AC 03
8330 A0 61 6C E9 69 B8 04 61 E9 1B B8 02 61 8E 97 8D
8340 E9 03 C0 04 AC 03 A0 A5 C0 6B 5F B5 8B 64 B8 75
8350 A2 FB FF D6 5E 84 A0 FC FF 51 C0 D7 1D 83 8A 6D
8360 66 85 F5 40 A2 F8 FF 4F D6 8E 83 A0 F7 FF 5F DA
8370 B3 41 B4 BD B3 A0 F7 FF 54 BE D2 83 F5 BB B0 B4
8380 DA D8 8A 83 A0 F7 FF A2 F8 FF A0 F7 FF D0 A2 F7
8390 FF A0 F7 FF 8B 1E C7 D7 6B 83 A0 F8 FF D8 0D 84
83A0 60 60 E9 69 B8 04 61 E9 1B B8 02 60 8E AF 8D E9
83B0 03 C0 04 A0 F8 FF B3 E9 50 D5 02 B3 E9 6B D5 02
83C0 60 8E CC 8D E9 03 C0 04 AC 7D A0 61 6C E9 69 B8
83D0 04 AC 3F B8 61 8E DC 8D E9 03 C0 04 A0 FD FF D2
83E0 8C 25 B8 BB B3 E9 0C D3 02 8B 28 B5 A2 FB FF A0
83F0 F8 FF 5F DA B3 41 B4 BD 8B FF DC B3 A0 F8 FF 54
8400 BE D2 83 F5 BB B4 B3 B0 DA B1 D6 5B 84 60 60 E9
8410 69 B8 04 AC 3F B8 61 8E FA 8D E9 03 C0 04 AC 03
8420 A0 8A 2C 01 CD A4 6B 66 BC A8 6B 66 61 6C E9 69
8430 B8 04 A0 F9 FF D7 4A 84 61 E9 1B B8 02 61 8E 1A
8440 8E E9 03 C0 04 89 14 D6 58 84 61 E9 1B B8 02 61
8450 8E 29 8E E9 03 C0 04 40 A2 FB FF AC 03 A0 A0 FA
8460 FF 8C C8 00 C6 D8 84 84 8E C8 00 A0 FB FF B3 A0
8470 FA FF B3 65 E9 E1 CF 02 B4 BB B4 BB B3 E9 6C DD
8480 04 A9 40 65 A0 FE FF D7 B3 84 A4 CC 6F 8C 88 13
8490 C2 D8 9F 84 8A E8 03 CD A4 CC 6F BB A8 CC 6F 61
84A0 6C E9 69 B8 04 AC 3F B8 60 8E 54 8E E9 03 C0 04
84B0 AC 7D A0 AC 3F B8 61 8E 95 8E E9 03 C0 04 AC 03
84C0 A0 8D 10 E9 D6 E0 02 41 CF 

Function $817A (F5 FF) -> Secret call

817F A5 40 65    / $6540
8182 A2 FA FF

8185 A5 5F 70    / $705F -> Quest progress flags
8188 51
8189 DA
818A D8 BF 81

if
	818D A5 67 70    / $7067 (Current port)
	8190 B3
	8191 A5 52 70    / $7052 (Target port)
	8194 B4
	8195 C0
	8196 D8 BF 81
	
	if
		8199 A5 53 70    / $7053
		819C D7 BF 81
		
		if
			819F A5 54 70    / $7054 (quest type)
			81A2 54
			81A3 C0
			81A4 D8 BF 81
			
			if
				81A7 61
				81A8 6A
				81A9 E9 69 B8 04 / Call $B869
				
				81AD 61
				81AE E9 1B B8 02 / Call $B81B
				
				81B2 61
				81B3 8E 73 8C    / $8C73 "The princess is gone!\nPlease, rush to her\naid!"
				81B6 E9 03 C0 04 / Call $C003 -> Print
				
				81BA AC 03 A0    / Call $A003
				
				81BD 41
				81BE CF          / Return 1

81BF 8D 64
81C1 E9 E1 CF 02 / Call $CFE1 -> RNG 00-99
81C5 B3
81C6 A0 FA FF
81C9 B4
81CA C6
81CB D8 04 82

if
	81CE A5 74 6F .. / $6F74 (Rank)
	81D1 B3
	81D2 63
	81D3 E9 E1 CF 02 / Call $CFE1
	81D7 B4
	81D8 BB
	81D9 53
	81DA C6
	81DB D8 04 82
	
	if
		81DE 61
		81DF 6A
		81E0 E9 69 B8 04 / Call $B869
		81E4 61
		81E5 E9 1B B8 02 / Call $B81B
		81E9 8E A2 8C    / $8CA2 "You make me suspicioushanging around here.\nGet out of the palace!"
		81EC E9 F4 A3 02 / Call $A3F4
		81F0 60
		81F1 60
		81F2 E9 69 B8 04 / Call $B869
		81F6 61
		81F7 E9 1B B8 02 / Call $B81B
		81FB 8E E4 8C    / $8CE4 "It's a pity I couldn'tmeet the princess"
		81FE E9 F4 A3 02 / Call $A3F4
		8202 41
		8203 CF

8204 8D 10
8206 E9 D6 E0 02 / Call $E0D6

820A 6B
820B E9 8C E0 02 / Call $E08C

820F 61
8210 6C
8211 E9 69 B8 04 / Call $B869

8215 61
8216 E9 1B B8 02 / Call $B81B

821A 60
821B 8E 0C 8D    / $8D0C "\nOh, "
821E E9 03 C0 04 / Call $C003 -> Print

8222 AA 42 65    / $6542
8225 E9 5B D5 02 / Call $D55B

8229 60
822A 8E 12 8D    / $8D12 "! I'm\n\nso glad we could\n\nmeet"
822D E9 03 C0 04 / Call $C003

8231 AC 7D A0    / Call $A07D

8234 60
8235 60
8236 E9 69 B8 04 / Call $B869

823A 61
823B E9 1B B8 02 / Call $B81B

8240 8E 30 8D    / $8D30 "Your words are such a\ncomfort to me"
8243 E9 03 C0 02 / Call $C003

8247 AC 03 A0    / Call $A003

824A A0 FA FF    / RNG 00-99
824D 8B 2D       / 30
824F B8
8250 A2 FF FF    / [RNG 00-99]/30

8253 A0 FF FF
8256 D8 6C 82

if
	8259 A0 FF FF
	825C B3
	825D 45
	825E B4
	825F BC
	8260 B3
	8261 41
	8262 B4
	8263 BD
	8264 B3
	8265 E9 E1 CF 02 / Call $CFE1
	8269 D6 6D 82
else
	826C 41

826D A2 FE FF

8270 A0 FA FF
8273 8B 64
8275 C6
8276 D8 8C 82

if	
	8279 A0 FA FF
	827C B3
	827D 89 64
	827F B4
	8280 BC
	8281 5A
	8282 B8
	8283 D0
	8284 B3
	8285 E9 E1 CF 02 / Call $CFE1
	8289 D6 8D 82
else
	828C 40

828D A2 F9 FF

8290 61
8291 6C
8292 E9 69 B8 04 / Call $B869
8296 AC 3F B8 .. / Call $B83F

8299 61
829A A0 FF FF
829D D2
829E 8C 90 8A .. / $8A90 -> Princess quote
82A1 BB
82A2 B0
82A3 B3
82A4 E9 03 C0 04 / Call $C003 -> Print
82A8 AC 03 A0 .. / Call $A003

82AB 60
82AC 60
82AD E9 69 B8 04 / Call $B869
82B1 61
82B2 E9 1B B8 02 / Call $B81B
82B6 61
82B7 A0 FF FF
82BA D2
82BB 8C 4F 8B .. / $8B4F
82BE BB
82BF B0
82C0 B3
82C1 E9 03 C0 04 / Call $C003 -> Print
82C5 AC 03 A0 .. / Call $A003

82C8 A4 6B 66 .. / $666B (Total gold)
82CB 8C 90 01
82CE C6
82CF D8 D6 82

82D2 42
82D3 D6 D7 82

82D6 43

82D7 A2 FD FF

82DA AC 01 B8 .. / Call $B801
82DD 63
82DE A0 FD FF
82E1 B3
82E2 8E 53 8C .. / $8C53 -> Options
82E5 62
82E6 60
82E7 8D 15
82E9 68
82EA E9 56 A1 0E / Call $A156 -> Get player selection
82EE A2 FC FF

82F1 A0 FC FF
82F4 8C FF 00
82F7 C0
82F8 D7 DD 82

82FB A0 FC FF
82FE D7 56 83

"Profess Love"
	8301 61
	8302 6C
	8303 E9 69 B8 04 / Call $B869
	8307 61
	8308 E9 1B B8 02 / Call $B81B
	830C 61
	830D 8E 54 8D .. / $8D54 "Your kindnesses fill\nme with joy"
	8310 E9 03 C0 04 / Call $C003 -> Print
	8314 AC 03 A0 .. / Call $A003
	8317 A5 C1 6B .. / $6BC1
	831A D6 4A 83
	
"Give flowers"
	831D 60
	831E 60
	831F E9 69 B8 04 / Call $B869
	8323 AC 3F B8 .. / Call $B83F
	8326 61
	8327 8E 75 8D .. / $8D75 "I hope that you will\naccept these"
	832A E9 03 C0 04 / Call $C003 -> Print
	832E AC 03 A0 .. / Call $A003
	8331 61
	8332 6C
	8333 E9 69 B8 04 / Call $B869
	8337 61
	8338 E9 1B B8 02 / Call $B81B
	833C 61
	833D 8E 97 8D .. / $8D97 "What beautiful\nflowers!"
	8340 E9 03 C0 04 / Call $C003 -> Print
	8344 AC 03 A0 .. / Call $A003
	8347 A5 C0 6B .. / $6BC0
	
	834A 5F
	834B B5
	834C 8B 64
	834D B8
	834E 75
	834F A2 FB FF
	8353 D6 5E 84

8356 A0 FC FF
8359 51
835A C0
835B D7 1D 83

835E 8A 6D 66 .. / $666D (Item flags)
8361 85 F5
8363 40
8364 A2 F8 FF
8367 4F
8368 D6 8E 83

836B A0 F7 FF
836E 5F
836F DA
8370 B3
8371 41
8372 B4
8273 BD
8374 B3
8375 A0 F7 FF
8378 54
8379 BE
837A D2
837B 83 F5
837D BB
837E B0
837F B4
8380 DA
8381 D8 8A 83

8384 A0 F7 FF
8387 A2 F8 FF

838A A0 F7 FF
838D D0

838E A2 F7 FF
8391 A0 F7 FF
8394 8B 1E
8396 C7
8397 D7 6B 83

839A A0 F8 FF
839D D8 0D 84

83A0 60
83A1 60
83A2 E9 69 B8 04 / Call $B869
83A6 61
83A7 E9 1B B8 02 / Call $B81B
83AB 60
83AC 8E AF 8D .. / $8DAF "\nI wanted to give you\n\nthis "
83AF E9 03 C0 04 / Call $C003 -> Print
83B3 A0 F8 FF
83B6 B3
83B7 E9 50 D5 02 / Call $D550
83BB B3
83BC E9 6B D5 02 / Call $D56B
83C0 60
83C1 8E CC 8D .. / $8DCC "\n\nfrom overseas"
83C4 E9 03 C0 04 / Call $C003 -> Print
83C8 AC 7D A0 .. / Call $A07D
83CB 61
83CC 6C
83CD E9 69 B8 04 / Call $B869
83D1 AC 3F B8 .. / Call $B83F
83D4 61
83D5 8E DC 8D .. / $8DDC "How lovely! Thank you\nso much"
83D8 E9 03 C0 04 / Call $C003 -> Print
83DC A0 FD FF
83DF D2
83E0 8C 25 B8
83E3 BB
83E4 B3
83E5 E9 0C D3 02 / Call $D30C -> Get byte
83E9 8B 28
83EB B5
83EC A2 FB FF

83EF A0 F8 FF
83F2 5F
83F3 DA
83F4 B3
83F5 41
83F6 B4
83F7 BD
83F8 8B FF
83FA DC
83FB B3
83FC A0 F8 FF
83FF 54
8400 BE
8401 D2
8402 83 F5
8404 BB
8405 B4
8406 B3
8407 B0
8408 DA
8409 B1
840A D6 5B 84

840D 60
840E 60
840F E9 69 B8 04 / Call $B869
8413 AC 3F B8 .. / Call $B83F
8416 61
8417 8E FA 8D .. / $8DFA "Please accept this\ngift from me"
841A E9 03 C0 04 / Call $C003 -> Print
841E AC 03 A0 .. / Call $A003
8421 8A 2C 01
8424 CD
8425 A4 6B 66 .. / $666B
8428 BC
8429 A8 6B 66
842C 61
842D 6C
842E E9 69 B8 04 / Call $B869
8432 A0 F9 FF
8435 D7 4A 84

8438 61
8439 E9 1B B8 02 / Call $B81B
843D 61
843E 8E 1A 8E .. / $8E1A "Oh, thank you!"
8441 E9 03 C0 04 / Call $C003 -> Print
8445 89 14
8447 D6 58 84

844A 61
844B E9 1B B8 02 / Call $B81B
844F 61
8450 8E 29 8E .. / $8E29 "I could never accept\nsuch a gift from you!"
8453 E9 03 C0 04 / Call $C003 -> Print
8457 40

8458 A2 FB FF

845B AC 03 A0 .. / Call $A003

845E A0 FA FF
8461 8C C8 00
8464 C6
8465 D8 84 84

8468 8E C8 00
846B A0 FB FF
846E B3
846F A0 FA FF
8472 B3
8473 65
8474 E9 E1 CF 02 / Call $CFE1
8478 B4
8479 BB
847A B4
847B BB
847C B3
847D E9 6C DD 04 / Call $DD6C
8481 A9 40 65 .. / $6540

8484 A0 FE FF
8487 D7 B3 84

848A A4 CC 6F .. / $6FCC
848D 8C 88 13
8490 C2
8491 D8 9F 84

8494 8A E8 03
8497 CD
8498 A4 CC 6F
849B BB
849C A8 CC 6F

849F 61
84A0 6C
84A1 E9 69 B8 04 / Call $B869
84A5 AC 3F B8 .. / Call $B83F
84A8 60 
84A9 8E 54 8E .. / $8E54 "\nI'm so grateful for\nyour care. Please\nask my father for\nsupport"
84AC E9 03 C0 04 / Call $C003 -> Print
84B0 AC 7D A0 .. / Call $A07D

84B3 AC 3F B8 .. / Call $B83F
84B6 61
84B7 8E 95 8E .. / $8E95 "Fare thee well!"
84BA E9 03 C0 04 / Call $C003 -> Print
84BE AC 03 A0 .. / Call $A003
84C1 8D 10
84C3 E9 D6 E0 02 / Call $E0D6
84C7 41
84C8 CF
----------------------------------------------------
     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F
84C0                            20 BF E4 00 00 A5 67
84D0 70 D7 D8 84 66 D6 EE 84 A0 0B 00 5B C8 D8 ED 84
84E0 A0 0B 00 8B 1F C6 D8 ED 84 68 D6 EE 84 67 E9 8C
84F0 E0 02 61 E9 C1 E0 02 CF 

Function $84C9 (00 00)

84CE A5 67 70    / $7067 (Current port)
84D1 D7 D8 84

if (Lisbon)
	84D4 66
	84D5 D6 EE 84
else
	84D8 A0 0B 00
	84DB 5B
	84DC C8
	84DD D8 ED 84
	
	if
		84E0 A0 0B 00
		84E3 8B 1F
		84E5 C6
		84E6 D8 ED 84
		
		if
			84E9 68
			84EA D6 EE 84
	
	84ED 67

84EE E9 8C E0 02 / Call $E08C

84F1 61
84F2 E9 C1 E0 02 / Call $E0C1

84F6 CF
----------------------------------------------------
     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F
84F0                         20 BF E4 FE FF A5 67 70
8500 8B 13 B5 8C D8 AF BB 2B 60 60 68 8D 1E 8D 14 61
8510 68 E9 D4 EE 0E AC 89 A5 8E E7 00 8E B6 B4 8E 52
8520 B4 65 8D 14 8D 15 66 69 E9 D4 EE 10 8D 16 68 E9
8530 70 C7 04 61 8E 26 8F E9 03 C0 04 CF 

Function $84F8 (FE FF)

84FD A5 67 70 .. / $7067 (Current port)
8500 8B 13
8502 B5
8503 8C D8 AF
8506 BB
8507 2B

8508 60
8509 60
850A 68
850B 8D 1E
850D 8D 14
850F 61
8510 68
8511 E9 D4 EE 0E / Call $EED4 -> Sysop 0x08

8515 AC 89 A5 .. / Call $A589

8518 8E E7 00
851B 8E B6 B4
851E 8E 52 B4
8521 65
8522 8D 14
8524 8D 15
8526 66
8527 69
8528 E9 D4 EE 10 / Call $EED4 -> Sysop 0x09 (Print graphic)

852C 8D 16
852E 68
852F E9 70 C7 04 / Call $C770 -> Text pos  8,22
8533 61
8534 8E 26 8F    / $8F26 "The next day..."
8537 E9 03 C0 04 / Call $C003 -> Print
853B CF
----------------------------------------------------
     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F
8530                                     20 BF E4 FC
8540 FF A0 0B 00 8B 32 C9 D8 55 85 A0 0B 00 8C 04 8F
8550 BB D3 2B 0B CF A0 0B 00 52 C0 D7 65 85 A0 0B 00
8560 5C C0 D8 67 85 45 CF A0 0B 00 55 B5 8C 0A B5 BB
8570 2A 3A E9 0C D3 02 2B 0B CF 

Function $853C

8541 A0 0B 00
8544 8B 32
8546 C9
8547 D8 55 85

if
	854A A0 0B 00
	854D 8C 04 8F .. /  $8F04
	8550 BB
	8551 D3
	8552 2B
	8553 0B
	8554 CF

8555

     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F
8540 FF A0 0B 00 8B 32 C9 D8 55 85 A0 0B 00 8C 04 8F
8550 BB D3 2B 0B CF A0 0B 00 52 C0 D7 65 85 A0 0B 00
8560 5C C0 D8 67 85 45 CF A0 0B 00 55 B5 8C 0A B5 BB
8570 2A 3A E9 0C D3 02 2B 0B CF 
----------------------------------------------------
     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F
8570                            20 BF E4 FC FF 0C 53
8580 C6 D8 88 85 40 D6 8B 85 0C 8F FE 2A 3E 0A D2 D2
8590 B3 0D 54 BD B4 BB 8C 4C 8F BB B0 B3 0A D2 D2 B3
85A0 0D 54 BD B4 BB 8C 4A 8F BB B0 B3 0A D2 8C F7 8F
85B0 BB D3 B3 0A D2 8C F6 8F BB D3 B3 0C D2 8C EB 8F
85C0 BB D3 B3 0C D2 8C EA 8F BB D3 B3 69 E9 D4 EE 10
85D0 CF 

Function $8579

857E 0C
857F 53
8580 C6
8581 D8 88 85

if
	8584 40
	8585 D6 8B 85
else
	8588 0C
	8589 8F FE

858B 2A

858C 3E
858D 0A
858E D2
858F D2
8590 B3
8591 0D
8592 54
8593 BD
8594 B4
8595 BB
8596 8C 4C 8F .. / $8F4C

     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F
8590 B3 0D 54 BD B4 BB 8C 4C 8F BB B0 B3 0A D2 D2 B3
85A0 0D 54 BD B4 BB 8C 4A 8F BB B0 B3 0A D2 8C F7 8F
85B0 BB D3 B3 0A D2 8C F6 8F BB D3 B3 0C D2 8C EB 8F
85C0 BB D3 B3 0C D2 8C EA 8F BB D3 B3 69 E9 D4 EE 10
85D0 CF 
----------------------------------------------------
     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F
85D0    20 BF E4 F7 FF 8A E1 00 85 F7 A0 0B 00 B3 E9
85E0 3C 85 02 85 FB 81 FB 53 C0 D7 F3 85 81 FB 55 C0
85F0 D8 F8 85 8A E0 00 85 F7 87 F7 81 FB D2 D2 8C CC
8600 8F BB B0 B3 81 FB D2 D2 8C CA 8F BB B0 B3 6E 8D
8610 1C 66 62 69 E9 D4 EE 10 A0 0B 00 8C 76 6F BB D3
8620 A2 FF FF 40 85 FD A0 0B 00 8B 32 C6 D8 93 86 81
8630 FD 51 C0 D8 71 86 A0 FF FF 54 DA D7 71 86 87 F7
8640 87 FB 61 E9 79 85 06 81 FD D0 85 FD 81 FD 59 C6
8650 D7 26 86 8D 10 60 81 FB 54 BD 8C A6 8E BB B3 66
8660 E9 D4 EE 08 8D 10 8D 10 8E 76 F3 66 E9 D4 EE 08
8670 CF 81 FD 52 C0 D8 89 86 A0 FF FF 8B 10 DA D8 89
8680 86 87 F7 87 FB 65 D6 43 86 81 FD 52 C0 D8 47 86
8690 D6 47 86 81 FD 56 C6 D8 47 86 87 F7 87 FB 87 FD
86A0 D6 43 86 
----------------------------------------------------
     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F
86A0          20 BF E4 FC FF 0C 2A 40 2B D6 B5 86 0B
86B0 D0 2B 0A D0 2A 3A E9 0C D3 02 D7 AF 86 64 89 18
86C0 1B B8 B3 89 1E 1B BC B4 BC B3 E9 0B C7 04 3C E9
86D0 6B D5 02 CF 

Function $86A3

86A8 0C       .. / Ptr to char array
86A9 2A

86AA 40
86AB 2B

86AC D6 B5 86

86AF 0B
86B0 D0
86B1 2B
86B2 0A
86B3 D0
86B4 2A

86B5 3A
86B6 E9 0C D3 02 / Call $D30C (Get byte from page FA)
86BA D7 AF 86

86BD 64
86BE 89 18
86C0 1B
86C1 B8
86C2 B3
86C3 89 1E
86C5 1B
86C6 BC
86C7 B4
86C8 BC
86C9 B3
86CA E9 0B C7 04 / Call $C70B -> Text pos

86CE 3C
86CF E9 6B D5 02 / Call $D56B -> Print

86D3 CF
----------------------------------------------------
     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F
86D0             20 BF E4 EC FF 8E FE 8F 65 E9 D4 EE
86E0 04 A5 67 70 8B 13 B5 8C D8 AF BB 2A A5 68 70 51
86F0 C1 D8 FC 86 41 A9 68 70 40 A8 69 70 AC 75 A6 AC
8700 37 CE A5 63 66 B3 E9 C9 84 02 8E E1 00 8E 4C A5
8710 8E DC A4 64 8D 1C 62 62 69 E9 D4 EE 10 3A E9 A3
8720 86 02 AC 40 A3 AC 6D A3 AC 9D A3 8E 83 86 8E DE
8730 00 61 E9 3A DE 06 A5 67 70 B3 E9 D1 85 02 AC F8
8740 84 CF 

Function $86D4

86D9 8E FE 8F .. / $8FFE
86DC 65
86DD E9 D4 EE 04 / Call $EED4 -> Sysop 0x05 (CHR bankswitch)

86E1 A5 67 70 .. / $7067 (Current port)
86E4 8B 13
86E6 B5
86E7 8C D8 AF .. / $AFD8
86EA BB
86EB 2A

86EC A5 68 70 .. / $7068
86EF 51
86F0 C1
86F1 D8 FC 86

	86F4 41
	86F5 A9 68 70 .. / $7068
	86F8 40
	86F9 A8 69 70 .. / $7069

86FC AC 75 A6 .. / Call $A675 -> Black out palettes
86FF AC 37 CE .. / Call $CE37 -> Wipe sprites and black out nametable

8702 A5 63 66 .. / $6663
8705 B3
8706 E9 C9 84 02 / Call $84C9

870A 8E E1 00
870D 8E 4C A5
8710 8E DC A4
8713 64
8714 8D 1C
8716 62
8717 62
8718 69
8719 E9 D4 EE 10 / Call $EED4 -> Sysop 0x09 (Print graphic)

871D 3A          / City data
871E E9 A3 86 02 / Call $86A3 -> Print?
8722 AC 40 A3 .. / Call $A340
8725 AC 6D A3 .. / Call $A36D
8728 AC 9D A3 .. / Call $A39D

872B 8E 83 86
872E 8E DE 00
8731 61
8732 E9 3A DE 06 / Call $DE3A -> DE:8683

     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F
8730 00 61 E9 3A DE 06 A5 67 70 B3 E9 D1 85 02 AC F8
8740 84 CF 
----------------------------------------------------
     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F
8740       20 BF E4 FE FF 60 60 E9 69 B8 04 61 E9 1B
8750 B8 02 8E 0C 90 E9 F4 A3 02 A5 67 70 5E B5 8C BD
8760 67 BB D3 8B 14 C6 D8 71 87 63 E9 E1 CF 02 D7 B6
8770 87 A5 67 70 5E B5 8C B2 67 BB B0 52 B6 8B 64 C2
8780 D7 B6 87 A4 6B 66 B7 26 B7 19 78 E6 00 00 B7 2C
8790 D7 B6 87 8D 14 E9 E1 CF 02 B3 89 64 B4 BC B3 A4
87A0 6B 66 B4 C6 D7 B6 87 63 E9 E1 CF 02 74 B3 A5 86
87B0 6B B4 C8 D8 DA 87 A5 86 6B 54 C8 D8 C8 87 AC 3F
87C0 B8 61 8E 2D 90 D6 CF 87 AC 3F B8 61 8E 59 90 E9
87D0 03 C0 04 61 E9 9B CE 02 41 CF 40 A2 FF FF 40 D6
87E0 FE 87 A0 FE FF 8C 06 90 BB D3 B3 A5 66 70 B4 DA
87F0 D8 FA 87 A0 FF FF D0 A2 FF FF A0 FE FF D0 A2 FE
8800 FF A0 FE FF 56 C6 D7 E2 87 A0 FF FF 53 C6 D7 1A
8810 88 8D 1E E9 E1 CF 02 D7 41 88 A0 FF FF 53 C6 D8
8820 28 88 A0 FF FF D6 2E 88 62 E9 E1 CF 02 D0 A2 FF
8830 FF AC 3F B8 A0 FF FF B3 8E 93 90 E9 99 C7 04 41
8840 CF 40 CF 

Function $8742

8747 60

     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F
8740       20 BF E4 FE FF 60 60 E9 69 B8 04 61 E9 1B
8750 B8 02 8E 0C 90 E9 F4 A3 02 A5 67 70 5E B5 8C BD
8760 67 BB D3 8B 14 C6 D8 71 87 63 E9 E1 CF 02 D7 B6
8770 87 A5 67 70 5E B5 8C B2 67 BB B0 52 B6 8B 64 C2
8780 D7 B6 87 A4 6B 66 B7 26 B7 19 78 E6 00 00 B7 2C
8790 D7 B6 87 8D 14 E9 E1 CF 02 B3 89 64 B4 BC B3 A4
87A0 6B 66 B4 C6 D7 B6 87 63 E9 E1 CF 02 74 B3 A5 86
87B0 6B B4 C8 D8 DA 87 A5 86 6B 54 C8 D8 C8 87 AC 3F
87C0 B8 61 8E 2D 90 D6 CF 87 AC 3F B8 61 8E 59 90 E9
87D0 03 C0 04 61 E9 9B CE 02 41 CF 40 A2 FF FF 40 D6
87E0 FE 87 A0 FE FF 8C 06 90 BB D3 B3 A5 66 70 B4 DA
87F0 D8 FA 87 A0 FF FF D0 A2 FF FF A0 FE FF D0 A2 FE
8800 FF A0 FE FF 56 C6 D7 E2 87 A0 FF FF 53 C6 D7 1A
8810 88 8D 1E E9 E1 CF 02 D7 41 88 A0 FF FF 53 C6 D8
8820 28 88 A0 FF FF D6 2E 88 62 E9 E1 CF 02 D0 A2 FF
8830 FF AC 3F B8 A0 FF FF B3 8E 93 90 E9 99 C7 04 41
8840 CF 40 CF 
----------------------------------------------------
     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F
8840          20 BF E4 00 00 60 60 E9 69 B8 04 61 E9
8850 1B B8 02 8E BB 90 E9 F4 A3 02 A5 67 70 5E B5 8C
8860 BD 67 BB D3 8B 14 C6 D8 72 88 62 E9 E1 CF 02 D7
8870 9D 88 6A E9 E1 CF 02 B3 89 3C B4 BC B3 A4 6B 66
8880 B4 C6 D7 9D 88 A4 6B 66 B7 26 B7 19 78 E6 00 00
8890 B7 2C D7 9D 88 A5 86 6B 57 C8 D8 C1 88 A5 86 6B
88A0 55 C8 D8 AF 88 AC 3F B8 61 8E ED 90 D6 B6 88 AC
88B0 3F B8 61 8E 18 91 E9 03 C0 04 61 E9 9B CE 02 41
88C0 CF 40 CF 

Function $8843

8848 60
8849 60
884A E9 69 B8 04 / Call $B869
884E 61
884F E9 1B B8 02 / Call $B81B
8853 8E BB 90 .. / $90BB "Anyone around here\ncare for a game of\nBlack Jack?"
8856 E9 F4 A3 02 / Call $A3F4 -> Print

885A A5 67 70 .. / $7067 (Current port)
885D 5E
885E B5
885F 8C BD 67 .. / $67BD (Prices)
8862 BB
8863 D3
8864 8B 14
8866 C6
8867 D8 72 88

886A 62
886B E9 E1 CF 02 / Call $CFE1 -> RNG 00-01
886F D7 9D 88

8872 6A
8873 E9 E1 CF 02 / Call $CFE1 -> RNG 00-09
8877 B3
8878 89 3C
887A B4
887B BC
887C B3          / 60 - rng(10)
887D A4 6B 66 .. / $666B (Total gold)
8880 B4
8881 C6
8882 D7 9D 88

8885 A4 6B 66
8888 B7 26    .. / long uextend
888A B7 19
     78 E6 00 00 / long loadr imm4 (59000)
8890 B7 2C       / long ucmpge
8892 D7 9D 88

8895 A5 86 6B .. / $6B86
8898 57
8899 C8
889A D8 C1 88

889D A5 86 6B .. / $6B86
88A0 55
88A1 C8
88A2 D8 AF 88

88A5 AC 3F B8 .. / Call $B83F
88A8 61
88A9 8E ED 90 .. / $90ED "I must have cleaned\nthem out in this port!"
88AC D6 B6 88

88AF AC 3F B8 .. / Call $B83F
88B2 61
88B3 8E 18 91 .. / $9118 "Confounded port!\nThere's no one willingto play!"

88B6 E9 03 C0 04 / Call $C003 -> Print
88BA 61
88BB E9 9B CE 02 / Call $CE9B
88BF 41
88C0 CF          / Return 1

88C1 40
88C2 CF          / Return 0
----------------------------------------------------
     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F
88C0          20 BF E4 FE FF AC 89 B8 61 E9 1B B8 02
88D0 61 8E 61 91 E9 03 C0 04 61 62 8E 48 91 61 68 8D
88E0 17 68 E9 56 A1 0E A2 FE FF A0 FE FF 8C FF 00 C1
88F0 D8 0F 89 A0 FE FF D2 8C 4C 91 BB B0 DD D8 09 89
8900 8A FF 00 A2 FE FF D6 0F 89 8A F0 00 A9 63 70 A0
8910 FE FF CF

Function $88C3 (FE FF) -> Menu for Casino games

88C8 AC 89 B8    / Call $B889

88CB 61
88CC E9 1B B8 02 / Call $B881

88D0 61
88D1 8E 61 91    / $9161 "Which game?"
88D4 E9 03 C0 04 / Call $C003 -> Print

88D8 61
88D9 62
88DA 8E 48 91    / $9158 "Poker"/"Black Jack" ptr table
88DD 61
88DE 68
88DF 8D 17
88E1 68
88E2 E9 56 A1 0E / Call $A156 -> Print menu & get response
88E6 A2 FE FF

88E9 A0 FE FF
88EC 8C FF 00
88EF C1
88F0 D8 0F 89

if (player selected a game)
{
	88F3 A0 FE FF
	88F6 D2
	88F7 8C 4C 91    / $914C - Jump table
	88FA BB
	88FB B0
	88FC DD       .. / Attempt to start game
	88FD D8 09 89
	
	if ( could not start game )
	{
		8900 8A FF 00
		8903 A2 FE FF
		8906 D6 0F 89
	}
	else ( if started game )
	{
		8909 8A F0 00
		890C A9 63 70 .. / $7063
	}
}

890F A0 FE FF
8902 CF
----------------------------------------------------
Strings
8914 "We don't need any\nmore crew"
8930 "His Majesty hopes\nthat you will manage\non your own"
8963 "His Majesty can supply%d men. How many do\n"
898E "you need"
8997 "Do not betray His\nMajesty's wishes"
89BA "Captain, assign men\nto the crew"
89DA "We don't need any\nmore gold!"
89F7 "His Majesty hopes thatyou will manage on\nyour own"
8A29 "His Majesty will\nprovide up to %d\ngold pieces"
8A57 "How much is needed\n"
8A6B "Do not betray His\nMajesty's wishes!"

$8A90 String pointer table
00 8A9A "I have faith in you"
01 8AAE "Nothing but your safe\nreturn will calm my\nfears"
02 8ADE "Please take care to\navoid danger"
03 8AFF "Remember, you said\nyou would never\nforget me"
04 8B2C "I've long awaited a\nvisit from you"

$8B4F String pointer table
00 8B59 "I'll do my best to\nlive up to your\nexpectations"
01 8B89 "I'll be praying for\nyour good health,\ndear Princess"
02 8BBD "Just put your trust inme and you will feel\nat ease"
03 8BF0 "I've never let you outof my thoughts"
04 8C15 "There will soon be a\nday when I will earn arank worthy of you"

$8C53 String pointer table
00 8C59 "Profess love"
01 8C66 "Flowers"
02 8C6E "Gift"

8C73 "The princess is gone!\nPlease, rush to her\naid!"
8CA2 "You make me suspicioushanging around here.\nGet out of the palace!"
8CE4 "It's a pity I couldn'tmeet the princess"
8D0C "\nOh, "
8D12 "! I'm\n\nso glad we could\n\nmeet"
8D30 "Your words are such a\ncomfort to me"
8D54 "Your kindnesses fill\nme with joy"
8D75 "I hope that you will\naccept these"
8D97 "What beautiful\nflowers!"
8DAF "\nI wanted to give you\n\nthis "
8DCC "\n\nfrom overseas"
8DDC "How lovely! Thank you\nso much"
8DFA "Please accept this\ngift from me"
8E1A "Oh, thank you!"
8E29 "I could never accept\nsuch a gift from you!"
8E54 "\nI'm so grateful for\nyour care. Please\nask my father for\nsupport"
8E95 "Fare thee well!"

PALETTES
8EA6 0F 00 10 30 / 0F 27 37 30 / 0F 16 27 37 / 0F 12 29 37
8EB6 0F 00 10 30 / 0F 06 17 26 / 0F 26 32 38 / 0F 12 29 00
8EC6 0F 00 10 30 / 0F 27 37 20 / 0F 17 27 20 / 0F 12 27 37
8ED6 0F 00 10 30 / 0F 27 18 38 / 0F 17 27 38 / 0F 12 29 18
8EE6 0F 00 10 30 / 0F 16 18 38 / 0F 18 38 20 / 0F 12 29 37
8EF6 0F 00 10 30 / 0F 17 28 38 / 0F 17 27 37 / 0F 12 14 38
8F06 0F 00 10 30 / 0F 06 30 27 / 0F 06 16 27 / 0F 12 06 27
8F16 0F 00 10 30 / 0F 18 38 30 / 0F 16 18 38 / 0F 12 29 37

8F26 "The next day..."

900C "Anyone care for a\ngame of Poker?"
902D "I must have pocketed\ntoo much in this port!"
9059 "This blasted port! Nota man here will play\ncards with us!"
9093 "What's this?  Only %d\nof you will play?"
90BB "Anyone around here\ncare for a game of\nBlack Jack?"
90ED "I must have cleaned\nthem out in this port!"
9118 "Confounded port!\nThere's no one willingto play!"
    
   9148 914C
00 9150 8742 "Poker"
01 9156 8843 "Blackjack"